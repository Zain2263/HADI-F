(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7176],{65265:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/school/instructor",function(){return n(58883)}])},31594:function(e,t,n){"use strict";n.d(t,{BP:function(){return d},CT:function(){return i},T:function(){return u},Vh:function(){return h},_u:function(){return c}});var o=n(89701),r=n(73361),a=n(5121),l=n(67294),s=n(86501);let c=()=>{let[e]=(0,r.a)(),t=e&&(null==e?void 0:e.token),[n,c]=(0,l.useState)([]),[i,u]=(0,l.useState)(!1),d=async()=>{u(!0);try{let{data:e}=await a.Z.get("".concat(o.b,"/lms/inst/my-batches"));if(e.error)return s.ZP.error(e.error);c(e.batches)}catch(e){console.log(e),s.ZP.error("Failed, try again.")}finally{u(!1)}};return(0,l.useEffect)(()=>{t&&d()},[t]),{loading:i,list:n}},i=()=>{let[e]=(0,r.a)(),[t,n]=(0,l.useState)({}),[c,i]=(0,l.useState)(0),[u,d]=(0,l.useState)(0),[h,v]=(0,l.useState)(0),[f,m]=(0,l.useState)(0),[g,p]=(0,l.useState)(!1),[y,x]=(0,l.useState)({}),[k,Z]=(0,l.useState)(""),[j,w]=(0,l.useState)(""),[b,S]=(0,l.useState)(""),[P,B]=(0,l.useState)(!1),z=async t=>{try{p(!0);let{data:r}=await a.Z.get("".concat(o.b,"/lms/batch-stats/").concat(t),{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});n(r.batch),i(r.assets),d(r.folders),v(r.lessons),m(r.comments),p(!1)}catch(e){p(!1),s.ZP.error("Failed, try again")}},A=async t=>{try{let{data:n}=await a.Z.get("".concat(o.b,"/lms/get-notice/").concat(t),{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});console.log(n,"inst notice"),x(n)}catch(e){s.ZP.error("Failed, try again")}},N=async t=>{if(!j||!b||!k)return s.ZP.error("All fields are required");try{let{data:n}=await a.Z.post("".concat(o.b,"/lms/add-update-notice/").concat(t),{variant:b,text:j,heading:k},{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});n.ok&&(s.ZP.success("added"),Z(""),S(""),w(""),A(t))}catch(e){s.ZP.error("Failed, try again")}};return{batch:t,assets:c,folders:u,lessons:h,comments:f,loading:g,gettingData:z,notice:y,heading:k,text:j,variant:b,getNotice:A,addNotice:N,setHeading:Z,setText:w,setVariant:S,open:P,setOpen:B}},u=()=>{let[e]=(0,r.a)(),[t,n]=(0,l.useState)([]),[c,i]=(0,l.useState)(""),[u,d]=(0,l.useState)({}),[h,v]=(0,l.useState)(!1),[f,m]=(0,l.useState)(!1),g=async t=>{try{m(!0);let{data:r}=await a.Z.get("".concat(o.b,"/lms/all-folders/").concat(t),{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});n(r),m(!1)}catch(e){m(!1),console.log(e)}},p=async t=>{try{let{data:n}=await a.Z.post("".concat(o.b,"/lms/create-folder/").concat(t),{name:c},{headers:{Authorization:"Bearer ".concat(e.token)}});n.ok&&g(t)}catch(e){s.ZP.error(e),console.log(e)}},y=async(t,n)=>{try{let{data:r}=await a.Z.delete("".concat(o.b,"/lms/delete-folder/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}});r.ok&&g(n)}catch(e){s.ZP.error(e),console.log(e)}},x=async(t,n)=>{let r="".concat(o.b,"/lms/remove-assignment/").concat(t,"/").concat(n);try{let{data:t}=await a.Z.put(r,{headers:{Authorization:"Bearer ".concat(e.token)}});t.ok&&fetchingBatchItems(id)}catch(e){console.log(e)}};return{fetchingAllFolders:g,AddFolder:p,deleteFolder:y,list:t,name:c,setName:i,loading:f,current:u,setCurrent:d,openFolder:h,setOpenFolder:v,removeAssignments:x}},d=e=>{let[t]=(0,r.a)(),n=t&&(null==t?void 0:t.token),[c,i]=(0,l.useState)(!1),[u,d]=(0,l.useState)([]),[h,v]=(0,l.useState)(),[f,m]=(0,l.useState)(""),[g,p]=(0,l.useState)(!1),y=async()=>{i(!0);try{let{data:n}=await a.Z.get("".concat(o.b,"/lms/all-assets/").concat(e),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.token)}});d(n)}catch(e){console.log(e)}finally{i(!1)}};(0,l.useEffect)(()=>{n&&e&&y()},[n,e]);let x=async e=>{let n=confirm("Are you sure?");if(n)try{let{data:n}=await a.Z.delete("".concat(o.b,"/lms/delete-asset/").concat(e),{headers:{Authorization:"Bearer ".concat(t.token)}});n.ok&&y()}catch(e){s.ZP.error(e),console.log(e)}},k=async()=>{try{i(!0);let n=new FormData;n.append("title",f),n.append("file",h);let{data:r}=await a.Z.post("".concat(o.b,"/lms/new-asset/").concat(e),n,{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.token)}});r.ok&&(m(""),v(""),y(),i(!1),s.ZP.success("Done"))}catch(e){console.log(e),i(!1)}};return{assetLoading:c,assets:u,deleteAsset:x,addAsset:k,handleChange:e=>{let{files:t}=e.target,n=e.target.files[0],o=["pdf","js","docx","jsx","json","jpg","jpeg","png","pptx","xlsx","txt"];if(n){let r=n.name.split(".").pop().toLowerCase();if(o.includes(r)){if(o.includes(r)){if(t[0].size/1024/1024>1){s.ZP.error("The file size greater than 5 MB. Make sure less than 5 MB.",{style:{border:"1px solid #ff0033",padding:"16px",color:"#ff0033"},iconTheme:{primary:"#ff0033",secondary:"#FFFAEE"}}),e.target.value=null;return}v(t[0])}}else s.ZP.error("Unsupported file type!"),e.target.value=null}},uploadOpen:g,setUploadOpen:p,uploadingFile:h,setUploadingFile:v,title:f,setTitle:m}},h=e=>{let[t]=(0,r.a)(),n=t&&(null==t?void 0:t.token),[c,i]=(0,l.useState)(""),[u,d]=(0,l.useState)(""),[h,v]=(0,l.useState)(!1),[f,m]=(0,l.useState)(!1),[g,p]=(0,l.useState)([]),y=async()=>{m(!0);try{let{data:n}=await a.Z.get("".concat(o.b,"/lms/all-lessons/").concat(e),{headers:{Authorization:"Bearer ".concat(null==t?void 0:t.token)}});p(n)}catch(e){console.log(e)}finally{m(!1)}};(0,l.useEffect)(()=>{n&&e&&y()},[n,e]);let x=async e=>{let n=confirm("Are you sure?");if(n)try{let{data:n}=await a.Z.delete("".concat(o.b,"/lms/delete-lesson/").concat(e),{headers:{Authorization:"Bearer ".concat(t.token)}});n.ok&&y()}catch(e){s.ZP.error(e),console.log(e)}},k=async()=>{if(!c||!u)return s.ZP.error("Title and description are required.");if(u.length>100)return s.ZP.error("Description should be short (100 words).");try{let{data:n}=await a.Z.post("".concat(o.b,"/lms/new-lesson/").concat(e),{title:c,description:u},{headers:{Authorization:"Bearer ".concat(t.token)}});n.ok&&(y(e),v(!1),i(""),d(""))}catch(e){s.ZP.error(e),console.log(e)}},Z=async()=>{try{let n="".concat(o.b,"/lms/make-lesson-complete/").concat(e),{data:r}=await a.Z.put(n,{headers:{Authorization:"Bearer ".concat(t.token)}});r.ok&&(y(e),s.ZP.success("Make it completed"))}catch(e){s.ZP.error(e),console.log(e)}};return{list:g,loading:f,deleteItem:x,addItem:k,makeItCompleteItem:Z,title:c,description:u,setTitle:i,setDescription:d,uploadOpen:h,setUploadOpen:v}}},35581:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var o=n(73361),r=n(31955),a=n(11163);let l=()=>{let[e,t]=(0,o.a)(),n=(0,a.useRouter)();return{logout:()=>{r.Z.remove("auth"),t({user:null,token:""}),n.push("/")}}}},17340:function(e,t,n){"use strict";n.d(t,{Co:function(){return i},kU:function(){return c}});var o=n(89701),r=n(73361),a=n(5121),l=n(11163),s=n(67294);let c=()=>{let[e]=(0,r.a)(),t=e&&(null==e?void 0:e.token),[n,c]=(0,s.useState)(!1),i=(0,l.useRouter)(),u=async()=>{try{let{data:e}=await a.Z.get("".concat(o.b,"/current-student"));e.ok&&c(!1)}catch(e){c(!1),console.log(e),i.push("/")}};return(0,s.useEffect)(()=>{t&&u()},[t]),{loading:n}},i=()=>{let[e,t]=s.useState(!1),[n]=(0,r.a)(),c=n&&(null==n?void 0:n.token),i=(0,l.useRouter)();s.useEffect(()=>{c&&u()},[c]);let u=async()=>{try{t(!0);let{data:e}=await a.Z.get("".concat(o.b,"/current-student-or-instructor"));e.ok?t(!1):e.error&&(t(!1),i.push("/"))}catch(e){t(!1),console.log(e),i.push("/")}};return{loading:e}};t.ZP=e=>{let[t,n]=s.useState(!0),[c]=(0,r.a)(),i=(0,l.useRouter)();s.useEffect(()=>{(null==c?void 0:c.token)&&u()},[null==c?void 0:c.token]);let u=async()=>{try{let{data:t}=await a.Z.get("".concat(o.b,"/").concat(e));t.ok?n(!1):t.error&&(n(!1),i.push("/"))}catch(e){n(!1),console.log(e),i.push("/")}};return{loading:t}}},40297:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var o=n(85893),r=n(35581),a=n(47360),l=n(89701),s=n(73361),c=n(84960),i=n(82891),u=n(11163),d=n(8193),h=n(89583),v=n(55788);function f(){var e,t,n,f,m,g,p,y,x,k;let[Z]=(0,s.a)(),{logout:j}=(0,r.n)(),w=(0,u.useRouter)(),b=[{label:"Batches",key:"1",icon:(0,o.jsx)(h.nGB,{size:17}),onClick:()=>{w.push("/instructor")}},{label:null==Z?void 0:null===(e=Z.user)||void 0===e?void 0:e.name,key:"0",icon:(0,o.jsx)(v.Rq5,{size:17})},{type:"divider"},{label:"Logout",onClick:j,key:"3",icon:(0,o.jsx)(d.Mqe,{size:17})}];return(0,o.jsx)("div",{style:{marginBottom:"80px"},children:(0,o.jsx)("div",{className:"main-head",children:(0,o.jsxs)("div",{className:"container d-flex justify-content-between py-1 px-2  ",children:[(0,o.jsx)(a.Z,{}),(0,o.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,o.jsx)("div",{style:{borderLeft:"1px solid lightgrey"},className:"px-2",children:(0,o.jsx)(i.default,{menu:{items:b},className:"custom-dropdown",overlayStyle:{zIndex:9999},children:(null==Z?void 0:null===(f=Z.user)||void 0===f?void 0:null===(n=f.image)||void 0===n?void 0:null===(t=n.url)||void 0===t?void 0:t.includes("profileImage"))?(0,o.jsx)(c.ZP,{src:(0,l.v)(null==Z?void 0:null===(g=Z.user)||void 0===g?void 0:null===(m=g.image)||void 0===m?void 0:m.url),children:null==Z?void 0:null===(p=Z.user)||void 0===p?void 0:p.name[0]}):(0,o.jsx)(c.ZP,{src:null==Z?void 0:null===(x=Z.user)||void 0===x?void 0:null===(y=x.image)||void 0===y?void 0:y.url,children:null==Z?void 0:null===(k=Z.user)||void 0===k?void 0:k.name[0]})})})})]})})})}},47360:function(e,t,n){"use strict";var o=n(85893),r=n(25675),a=n.n(r),l=n(41664),s=n.n(l);n(67294),t.Z=()=>(0,o.jsx)(s(),{href:"/",children:(0,o.jsx)(a(),{height:70,width:150,src:"/images/primary.svg",alt:"logo"})})},89701:function(e,t,n){"use strict";n.d(t,{b:function(){return r},v:function(){return a}});let o="https://api.hadielearning.com",r="".concat(o,"/api"),a=e=>"".concat(o,"/").concat(e.replace(/\\/g,"/"))},58883:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n(85893),r=n(67294),a=n(11163),l=e=>{let{path:t="/"}=e,[n,l]=(0,r.useState)(3),s=(0,a.useRouter)();return(0,r.useEffect)(()=>{let e=setInterval(()=>{l(e=>--e)},1e3);return 0===n&&s.push(t),()=>clearInterval(e)},[n]),(0,o.jsxs)(o.Fragment,{children:["Please wait for ",n," second"]})},s=n(17340),c=n(31594),i=n(89701),u=n(70302),d=n(41664),h=n.n(d),v=()=>{let{list:e,loading:t}=(0,c._u)();return(0,o.jsxs)("div",{className:"container mt-100 ",children:[(0,o.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,o.jsx)("div",{className:"page__title-content",children:(0,o.jsx)("h1",{className:"pragrams-h1 text-center",style:{fontSize:"40px",color:"#0f3f5d"},children:"Assign Batches"})}),(0,o.jsx)("p",{className:"text-center mb-4 mt-3",style:{maxWidth:"800px"},children:(0,o.jsx)("em",{children:"We have got all your digital skill training needs covered with our extensive offered program list. All you have to do is to explore our program list, choose the program of your choice, and take your first step toward financial independence."})}),t&&"Loading..."]}),(0,o.jsx)("div",{className:"row mt-50 py-10",children:null==e?void 0:e.map(e=>{var t,n,r,a,l,s,c,d;return(0,o.jsx)("div",{className:"col-xl-3 col-lg-3 col-md-6 col-sm-12 mb-4",children:(0,o.jsx)(h(),{href:"/instructor/batch/".concat(e._id),children:(0,o.jsx)(u.default,{hoverable:!0,style:{width:"100%"},cover:(0,o.jsx)(o.Fragment,{children:(null==e?void 0:null===(r=e.courseDetails)||void 0===r?void 0:null===(n=r.image)||void 0===n?void 0:null===(t=n.url)||void 0===t?void 0:t.includes("courseImages"))?(0,o.jsx)("img",{alt:"course-image",src:(0,i.v)(null==e?void 0:null===(l=e.courseDetails)||void 0===l?void 0:null===(a=l.image)||void 0===a?void 0:a.url)}):(0,o.jsx)("img",{alt:"course-image",src:null==e?void 0:null===(c=e.courseDetails)||void 0===c?void 0:null===(s=c.image)||void 0===s?void 0:s.url})}),children:(0,o.jsx)(u.default.Meta,{title:e.title,description:null===(d=e.courseDetails)||void 0===d?void 0:d.title})})})},e._id)})})]})},f=n(40297),m=()=>{let{loading:e}=(0,s.ZP)("current-teacher");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Z,{}),e?(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)(l,{})}):(0,o.jsx)(v,{})]})}}},function(e){e.O(0,[5445,4617,1057,2160,2121,1664,8695,2735,9523,4055,4737,4960,302,8890,2891,9774,2888,179],function(){return e(e.s=65265)}),_N_E=e.O()}]);