(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4102],{83636:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/school/student/_/enrollmentInfo",function(){return l(89201)}])},89201:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return y}});var n=l(85893),t=l(67294),s=l(86501),r=l(5121),o=l(27484),c=l.n(o),i=l(89701),d=l(73361),h=l(65400),m=l.n(h),p=l(70302),u=l(14321),x=l(67555),f=l.n(x),j=e=>{let{enrollmentInfo:a,changeEnrollmentInfo:l,setEnrollmentInfo:t,submit:r,loading:o}=e,{phoneNumber:c,whatsAppphoneNumber:i,dateOfBirth:d,gender:h,idCard:x,address:j,city:g,parentName:N,parentOccupations:y,parentPhoneNumber:v,interest:b,wantToAchieve:k}=a;if(d){let e=new Date;d>e&&(s.Am.error("Please select a date in the past",{position:"bottom-center"}),t({...a,dateOfBirth:""}))}return(0,n.jsxs)(p.default,{title:"Enrollment Information",children:[(0,n.jsxs)("div",{className:"d-flex form-group py-3",children:[(0,n.jsxs)("div",{className:"form-check ",style:{marginRight:"20px"},children:[(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexCheckDefault",name:"gender",value:"female",checked:"female"===h,onChange:l}),(0,n.jsx)("label",{className:"form-check-label",for:"flexCheckDefault",children:"Female"})]}),(0,n.jsxs)("div",{className:"form-check ",style:{marginRight:"20px"},children:[(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",name:"gender",value:"male",checked:"male"===h,onChange:l,id:"flexCheckDefault"}),(0,n.jsx)("label",{className:"form-check-label",for:"flexCheckDefault",children:"Male"})]}),(0,n.jsxs)("div",{className:"form-check ",style:{marginRight:"20px"},children:[(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",name:"gender",value:"other",checked:"other"===h,onChange:l,id:"flexCheckDefault"}),(0,n.jsx)("label",{className:"form-check-label",for:"flexCheckDefault",children:"Other"})]})]}),(0,n.jsxs)("div",{className:"col-md-12 col-sm-12 col-xs-12 py-3",children:[(0,n.jsxs)("label",{children:["Date of Birth",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)(u.Z,{required:!0,type:"date",className:"form-control",placeholder:"Date of bith",format:"DD-MM-YYYY",value:d,onChange:e=>t({...a,dateOfBirth:e})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-6 col-sm-12 col-xs-12 py-3",children:[(0,n.jsxs)("label",{children:["WhatsApp",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)(f(),{country:"pk",inputClass:"form-control",inputStyle:{width:"100%"},placeholder:"Enter whatsApp number",value:i,onChange:e=>t({...a,whatsAppphoneNumber:e})})]}),(0,n.jsxs)("div",{className:"col-md-6 col-sm-12 col-xs-12 py-3",children:[(0,n.jsxs)("label",{children:["Phone",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)(f(),{country:"pk",inputClass:"form-control",inputStyle:{width:"100%"},placeholder:"Enter phone number",value:c,onChange:e=>t({...a,phoneNumber:e})})]})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsxs)("label",{children:["City",(0,n.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,n.jsx)("input",{required:!0,type:"text",className:"form-control",name:"city",value:g,onChange:l})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsxs)("label",{children:["Address",(0,n.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,n.jsx)("input",{required:!0,type:"text",className:"form-control",name:"address",value:j,onChange:l})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsx)("label",{children:"CNIC"}),(0,n.jsx)("input",{required:!0,type:"text",className:"form-control",name:"idCard",value:x,onChange:e=>{let l=e.target.value;l.replace(/[^0-9-]/g,""),/^\d{0,13}$/.test(l)&&t({...a,idCard:l})}})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsxs)("label",{children:["Father Name",(0,n.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,n.jsx)("input",{required:!0,type:"text",className:"form-control",name:"parentName",value:N,onChange:l})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsxs)("label",{children:["Occupation",(0,n.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,n.jsx)("input",{required:!0,type:"text",className:"form-control",name:"parentOccupations",value:y,onChange:l})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsx)("label",{children:"Phone"}),(0,n.jsx)(f(),{country:"pk",inputClass:"form-control",inputStyle:{width:"100%"},placeholder:"",value:v,onChange:e=>t({...a,parentPhoneNumber:e})})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsx)("label",{children:"Your Interests"}),(0,n.jsx)("textarea",{type:"text",className:"form-control",name:"interest",value:b,onChange:l})]}),(0,n.jsxs)("div",{className:"form-group py-3",children:[(0,n.jsx)("label",{children:"What do you want to achieve?"}),(0,n.jsx)("textarea",{type:"text",className:"form-control",name:"wantToAchieve",value:k,onChange:l})]}),(0,n.jsx)("div",{className:"text-end",children:(0,n.jsx)(m(),{className:"CardieBg text-light",loading:o,onClick:r,children:"Submit"})})]})},g=l(8015);let N={phoneNumber:"",whatsAppphoneNumber:"",dateOfBirth:"",gender:"",idCard:"",address:"",city:"",parentName:"",parentOccupations:"",parentPhoneNumber:"",interest:"",wantToAchieve:""};var y=()=>{let[e]=(0,d.a)(),[a,l]=(0,t.useState)(N),[o,h]=(0,t.useState)(!1),m=async()=>{try{let{data:a}=await r.Z.get("".concat(i.b,"/my-enrollment-info"));if(console.log({data:a}),a.ok)for(let n in a.enrollmentInfo){var e;l({...a.enrollmentInfo,dateOfBirth:c()(null===(e=a.enrollmentInfo)||void 0===e?void 0:e.dateOfBirth)})}}catch(e){console.log(e),s.ZP.error("Failed, try again",toastPositions)}};(0,t.useEffect)(()=>{e&&(null==e?void 0:e.token)&&m()},[e,null==e?void 0:e.token]);let p=async()=>{h(!0);try{let{data:e}=await r.Z.put("".concat(i.b,"/update-enrollment-info"),{enrollmentInfo:a});e.ok&&(s.ZP.success("Updated",{position:"bottom-center"}),m())}catch(e){console.log(e),s.ZP.error("Failed, try again")}finally{h(!1)}};return(0,n.jsx)(g.Z,{children:(0,n.jsx)(j,{submit:p,loading:o,enrollmentInfo:a,changeEnrollmentInfo:e=>{let{name:n,value:t}=e.target;l({...a,[n]:t})},setEnrollmentInfo:l})})}}},function(e){e.O(0,[5445,1228,9401,955,4617,1057,6556,9570,2160,2121,1664,8695,9169,2735,9523,4055,4737,4960,302,8890,2891,8905,4749,945,592,8437,4321,706,8015,9774,2888,179],function(){return e(e.s=83636)}),_N_E=e.O()}]);