(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8184],{74284:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/school/student/_/settings",function(){return t(57177)}])},57177:function(e,a,t){"use strict";t.r(a);var s=t(85893),o=t(67294),r=t(65400),l=t.n(r),n=t(70302),i=t(5121),c=t(86501),d=t(73361),u=t(8015),m=t(89701),p=t(16371);a.default=()=>{let[e]=(0,d.a)(),[a,t]=(0,o.useState)(!1),[r,h]=(0,o.useState)(!1),[y,f]=(0,o.useState)(""),[g,v]=(0,o.useState)(""),[x,j]=(0,o.useState)(!1),b=async()=>{try{h(!0);let{data:e}=await i.Z.get("".concat(m.b,"/my-privacy"));e.ok&&(t(e.public),h(!1))}catch(e){c.ZP.error("Failed, try again",p.W.toastBootom)}finally{h(!1)}};(0,o.useEffect)(()=>{e&&(null==e?void 0:e.token)&&b()},[e,null==e?void 0:e.token]);let N=async()=>{try{h(!0);let{data:e}=await i.Z.put("".concat(m.b,"/update-privacy"),{public:a});e.ok&&c.ZP.success("Updated",p.W.toastBootom)}catch(e){c.ZP.error("Failed, try again",p.W.toastBootom)}finally{h(!1)}},w=async()=>{if(y!==g){c.ZP.error("Password doesnt match",p.W.toastBootom);return}if(y===g)try{var a;j(!0);let{data:t}=await i.Z.put("".concat(m.b,"/update-user-by-user"),{password:y,id:null==e?void 0:null===(a=e.user)||void 0===a?void 0:a._id});t.error?c.ZP.error(t.error,p.W.toastBootom):(j(!1),c.ZP.success("Updated",p.W.toastBootom))}catch(e){c.ZP.error("Failed, try again",p.W.toastBootom)}finally{j(!1)}};return(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(n.default,{title:"Privacy",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-secondary",children:"In publishing and graphic design, Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document or a typeface without relying on meaningful content. Lorem ipsum may be used as a placeholder before final copy is available."}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"d-flex justify-content-start align-items-center  gap-2 form-group py-2",children:[(0,s.jsxs)("label",{children:[" Make public profile ",r&&"loading..."]}),(0,s.jsx)("input",{type:"checkbox",checked:a,onChange:()=>t(!a)})]})}),(0,s.jsx)(l(),{style:{backgroundColor:p.W.primaryColor},className:"text-light",onClick:N,children:"Save"})]})}),(0,s.jsxs)(n.default,{title:"Change Password",className:"mt-3",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group py-2",children:[(0,s.jsx)("label",{children:" Password "}),(0,s.jsx)("input",{min:6,value:y,onChange:e=>f(e.target.value),type:"password",className:"form-control"})]})}),(0,s.jsx)("div",{className:"col-md-6",children:(0,s.jsxs)("div",{className:"form-group py-2",children:[(0,s.jsx)("label",{children:" Confirm Password "}),(0,s.jsx)("input",{min:6,value:g,onChange:e=>v(e.target.value),type:"password",className:"form-control"})]})})]}),(0,s.jsx)(l(),{style:{backgroundColor:p.W.primaryColor},className:"text-light",loading:x,onClick:w,children:"Save"})]})]})}}},function(e){e.O(0,[5445,1228,9401,955,4617,1057,6556,9570,2160,2121,1664,8695,9169,2735,9523,4055,4737,4960,302,8890,2891,8905,4749,945,592,8015,9774,2888,179],function(){return e(e.s=74284)}),_N_E=e.O()}]);