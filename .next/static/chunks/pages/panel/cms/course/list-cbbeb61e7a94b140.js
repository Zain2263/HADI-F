(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8725],{66211:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/cms/course/list",function(){return t(41384)}])},6094:function(e,o,t){"use strict";t.d(o,{K6:function(){return l},VG:function(){return d},ZE:function(){return i}});var n=t(89701),r=t(73361),a=t(5121),s=t(67294),c=t(86501);let l=()=>{let[e,o]=(0,s.useState)(!1),t=async(e,t)=>{if(console.log("state",t.faqs,"here"),!t.title||!t.overview||!t.lectures||!t.whyUs||!t.prerequisites||!t.benefits||!t.marketValue||!t.courseFor||!t.duration||!t.timming||!t.startingFrom||!t.image||!t.instructor||0===t.categories.length||0===t.faqs.length||!t.seoTitle||!t.metaDescription){c.ZP.error("All Fields are required**",{position:"bottom-center"});return}let r=new FormData;r.append("title",t.title),r.append("overview",t.overview),r.append("whyUs",t.whyUs),r.append("prerequisites",t.prerequisites),r.append("benefits",t.benefits),r.append("marketValue",t.marketValue),r.append("courseFor",t.courseFor),r.append("duration",t.duration),r.append("classes",t.classes),r.append("timming",t.timming),r.append("startingFrom",t.startingFrom),r.append("regFee",t.regFee),r.append("courseFee",t.courseFee),r.append("image",t.image),r.append("instructor",t.instructor),r.append("monday",t.days.monday),r.append("tuesday",t.days.tuesday),r.append("wednesday",t.days.wednesday),r.append("thursday",t.days.thursday),r.append("friday",t.days.friday),r.append("saturday",t.days.saturday),r.append("seoTitle",t.seoTitle),r.append("metaDescription",t.metaDescription),t.lectures.forEach((e,o)=>{r.append("lectures[".concat(o,"][title]"),e.title),r.append("lectures[".concat(o,"][details]"),e.details)}),t.faqs.forEach((e,o)=>{r.append("faqs[".concat(o,"][answer]"),e.answer),r.append("faqs[".concat(o,"][question]"),e.question)}),t.categories.forEach(e=>{r.append("categories",e)});try{o(!0);let{data:t}=await a.Z.post("".concat(n.b,"/").concat(e),r);t.error?c.ZP.error(t.error,{position:"bottom-center"}):c.ZP.success("Action is done successfully",{position:"bottom-center"}),o(!1)}catch(e){o(!1),console.log(e)}};return{createSubmit:t,loading:e}},i=()=>{let[e]=(0,r.a)(),[o,t]=(0,s.useState)([]),[l,i]=(0,s.useState)(!1),d=async()=>{try{i(!0);let{data:o}=await a.Z.get("".concat(n.b,"/admin-courses"),{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});t(o.courses),console.log(o.courses,"here"),i(!1)}catch(e){i(!1),console.log(e)}},u=async o=>{try{var t;if(null===(t=window)||void 0===t?void 0:t.confirm("Are you sure?")){let{data:t}=await a.Z.delete("".concat(n.b,"/delete/course/").concat(o),{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});d()}}catch(e){console.log(e)}},h=async o=>{try{i(!0);let{data:t}=await a.Z.put("".concat(n.b,"/show-or-not/").concat(o),{showOrNot:!1},{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});console.log(t),t.ok&&(i(!1),c.ZP.success("Course has been disable"),d())}catch(e){console.log(e),i(!1),c.ZP.error("Try again")}},p=async o=>{try{i(!0);let{data:t}=await a.Z.put("".concat(n.b,"/show-or-not-2/").concat(o),{showOrNot:!0},{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});console.log(t),t.ok&&(i(!1),c.ZP.success("Course has been disable"),d())}catch(e){console.log(e),i(!1),c.ZP.error("Try again")}},v=async o=>{try{i(!0);let{data:t}=await a.Z.put("".concat(n.b,"/show-or-not-2/").concat(o),{showOrNot:!1},{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});console.log(t),t.ok&&(i(!1),c.ZP.success("Course has been disable"),d())}catch(e){console.log(e),i(!1),c.ZP.error("Try again")}},m=async o=>{try{i(!0);let{data:t}=await a.Z.put("".concat(n.b,"/show-or-not/").concat(o),{showOrNot:!0},{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});console.log(t),t.ok&&(i(!1),c.ZP.success("Course has been disable"),d())}catch(e){console.log(e),i(!1),c.ZP.error("Try again")}};return(0,s.useEffect)(()=>{e&&e.token&&d()},[e&&e.token]),{list:o,loading:l,deleteCourse:u,disableCourse:h,enableCourse2:p,disableCourse2:v,enableCourse:m}},d=()=>{let[e,o]=(0,s.useState)(!1),[t,r]=(0,s.useState)([]);(0,s.useEffect)(()=>{c()},[]);let c=async()=>{try{o(!0);let{data:e}=await a.Z.get("".concat(n.b,"/courses-form"));r(e.courses)}catch(e){console.log(e)}finally{o(!1)}};return{loading:e,shorts:t}}},51447:function(e,o,t){"use strict";var n=t(85893);t(67294);var r=t(24806);o.Z=e=>{let{children:o}=e;return(0,n.jsx)(r.Z,{api:"/current-cms-user",children:o})}},59608:function(e,o,t){"use strict";var n=t(85893),r=t(6094),a=t(73361),s=t(65400),c=t.n(s),l=t(70302),i=t(41664),d=t.n(i),u=t(11163);t(67294);var h=t(47516);o.Z=()=>{var e;let[o]=(0,a.a)(),t=(0,u.useRouter)().pathname,{list:s,loading:i,deleteCourse:p,disableCourse:v,enableCourse2:m,disableCourse2:y,enableCourse:x}=(0,r.ZE)();return(0,n.jsx)(l.default,{children:(null==o?void 0:null===(e=o.user)||void 0===e?void 0:e.role)==="reader"?(0,n.jsx)("h5",{children:"Sorry, you do not have the right to view the data."}):(0,n.jsx)("div",{className:"table-responsive",children:(0,n.jsxs)("table",{class:"table table-striped  text-dark",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",children:i?"loading...":"#"}),(0,n.jsx)("th",{scope:"col",children:"Category"}),(0,n.jsx)("th",{scope:"col",children:"Title"}),(0,n.jsx)("th",{scope:"col",children:"Instructor"}),(0,n.jsx)("th",{scope:"col",children:"Disable in form"}),(0,n.jsxs)("th",{scope:"col",children:[" ",i&&"loading..."," "]}),(0,n.jsx)("th",{scope:"col"}),(0,n.jsx)("th",{scope:"col"})]})}),(0,n.jsx)("tbody",{children:0!==s.length||i?null==s?void 0:s.map((e,o)=>{var r,a,s,l,i,u,g,f,w;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"text-dark",scope:"row ",children:++o}),(0,n.jsx)("td",{className:"text-dark",children:null==e?void 0:null===(a=e._doc)||void 0===a?void 0:null===(r=a.categories[0])||void 0===r?void 0:r.name}),(0,n.jsx)("td",{className:"text-dark",children:null==e?void 0:null===(s=e._doc)||void 0===s?void 0:s.title}),(0,n.jsx)("td",{className:"text-dark",children:null==e?void 0:null===(i=e._doc)||void 0===i?void 0:null===(l=i.instructor)||void 0===l?void 0:l.name}),(0,n.jsx)("td",{className:"text-dark",children:(null==e?void 0:null===(u=e._doc)||void 0===u?void 0:u.show)?(0,n.jsx)(c(),{onClick:()=>{var o;return v(null==e?void 0:null===(o=e._doc)||void 0===o?void 0:o._id)},children:"Enabled"}):(0,n.jsx)(c(),{danger:!0,onClick:()=>{var o;return x(null==e?void 0:null===(o=e._doc)||void 0===o?void 0:o._id)},children:"Disabled"})}),(0,n.jsx)("td",{className:"text-dark",children:(null==e?void 0:null===(g=e._doc)||void 0===g?void 0:g.show2)?(0,n.jsx)(c(),{onClick:()=>{var o;return y(null==e?void 0:null===(o=e._doc)||void 0===o?void 0:o._id)},children:"Enabled"}):(0,n.jsx)(c(),{danger:!0,onClick:()=>{var o;return m(null==e?void 0:null===(o=e._doc)||void 0===o?void 0:o._id)},children:"Disabled"})}),(0,n.jsx)("td",{className:"text-dark",children:(0,n.jsx)(d(),{href:"".concat(t.includes("lms")?"/lms/course/detail/".concat(null==e?void 0:null===(f=e._doc)||void 0===f?void 0:f._id):"/cms/course/detail/".concat(null==e?void 0:null===(w=e._doc)||void 0===w?void 0:w._id)),children:(0,n.jsx)(h.Hlf,{})})}),(0,n.jsx)("td",{className:"text-dark",children:(0,n.jsx)(h.SW4,{onClick:()=>{var o;return p(null==e?void 0:null===(o=e._doc)||void 0===o?void 0:o._id)}})})]},e._doc.name)}):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:"6",className:"text-center",children:"No Course"})})})]})})})}},41384:function(e,o,t){"use strict";t.r(o);var n=t(85893),r=t(51447),a=t(59608);t(67294),o.default=()=>(0,n.jsx)(r.Z,{children:(0,n.jsx)(a.Z,{})})}},function(e){e.O(0,[5445,1228,3874,2160,2121,1664,8695,9169,2735,9523,1825,4055,4737,4960,302,8890,2891,674,9238,4806,9774,2888,179],function(){return e(e.s=66211)}),_N_E=e.O()}]);