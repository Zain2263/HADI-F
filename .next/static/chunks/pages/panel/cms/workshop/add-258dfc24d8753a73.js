(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3974],{90993:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/cms/workshop/add",function(){return o(85181)}])},6339:function(e,t,o){"use strict";o.d(t,{b:function(){return s}});var r=o(89701),a=o(5121),n=o(67294),l=o(86501);let s=()=>{let[e,t]=(0,n.useState)([]),[o,s]=(0,n.useState)(!1),i=async()=>{s(!0);try{let{data:e}=await a.Z.get("".concat(r.b,"/categories"));t(e)}catch(e){console.log(e),l.ZP.error("Failed, try again.")}finally{s(!1)}},c=async e=>{try{let{data:t}=await a.Z.delete("".concat(r.b,"/category/").concat(e));i(),l.ZP.success("Category deleted")}catch(e){console.log(e),l.ZP.error("Category delete falied")}},d=async(e,t,o)=>{if(e.preventDefault(),!t){l.ZP.error("Please give it a name");return}try{s(!0);let{data:e}=await a.Z.post("".concat(r.b,"/category"),{name:t});i(),o(""),s(!1),l.ZP.success("Category created successfully")}catch(e){l.ZP.error("Duplicate error. Try different name."),console.log(e),s(!1)}};return(0,n.useEffect)(()=>{i()},[]),{categoriesList:e,loading:o,getCategories:i,DeleteCategory:c,addCategory:d}}},54715:function(e,t,o){"use strict";o.d(t,{BL:function(){return s},J:function(){return i}});var r=o(89701),a=o(73361),n=o(5121),l=o(67294);let s=()=>{let[e]=(0,a.a)(),[t,o]=(0,l.useState)([]),[s,i]=(0,l.useState)(!1),c=async()=>{try{i(!0);let{data:t}=await n.Z.get("".concat(r.b,"/admin/all-user"),{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});o(t.users),i(!1)}catch(e){i(!1),console.log(e)}finally{i(!1)}};(0,l.useEffect)(()=>{e&&e.token&&c()},[e&&e.token]);let d=async t=>{try{var o;if(i(!0),null===(o=window)||void 0===o?void 0:o.confirm("Are you sure?")){let{data:o}=await n.Z.delete("".concat(r.b,"/admin/delete/").concat(t),{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)}});c()}}catch(e){console.log(e)}finally{i(!1)}};return{list:t,loading:s,deleteUser:d}},i=()=>{let[e]=(0,a.a)(),[t,o]=(0,l.useState)(!1),[s,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let t=async()=>{try{o(!0);let{data:t}=await n.Z.get("".concat(r.b,"/get-all-instructors"),{headers:{Authorization:"Bearer ".concat(e.token)}});i(t),o(!1)}catch(e){o(!1),console.log(e),toast.error("Try Again")}};e&&e.token&&t()},[e&&e.token]),{instLoading:t,teachers:s}}},32512:function(e,t,o){"use strict";o.d(t,{$:function(){return c},K:function(){return i}});var r=o(89701),a=o(73361),n=o(5121),l=o(67294),s=o(86501);let i=()=>{let[e,t]=(0,l.useState)(!1),o=async(e,o)=>{if(!o.breadTitle||!o.title||!o.content||!o.outlines||!o.conclusion||!o.dateAndTime||!o.instructor||!o.zoomLink||!o.meetingId||!o.pascodeId||!o.meetingTiming||!o.tags||0===o.categories.length){s.ZP.error("All Fields are required**",{position:"bottom-center"});return}let a=new FormData;a.append("breadTitle",o.breadTitle),a.append("title",o.title),a.append("content",o.content),a.append("outlines",o.outlines),a.append("conclusion",o.conclusion),a.append("dateAndTime",o.dateAndTime),a.append("instructor",o.instructor),a.append("zoomLink",o.zoomLink),a.append("meetingId",o.meetingId),a.append("pascodeId",o.pascodeId),a.append("meetingTiming",o.meetingTiming),a.append("tags",o.tags),o.categories.forEach(e=>{a.append("categories",e)}),(null==o?void 0:o.preImage)&&console.log("from  pre image"),(null==o?void 0:o.image)&&a.append("image",o.image);try{t(!0);let{data:o}=await n.Z.post("".concat(r.b,"/").concat(e),a,{headers:{"Content-Type":"multipart/form-data"}});o.error?s.ZP.error(o.error,{position:"bottom-center"}):s.ZP.success("Action is done successfully",{position:"bottom-center"}),t(!1)}catch(e){t(!1),console.log(e)}};return{createSubmit:o,loading:e}},c=()=>{let[e,t]=(0,l.useState)(!1),[o,i]=(0,l.useState)([]),[c]=(0,a.a)(),d=async()=>{try{t(!0);let{data:e}=await n.Z.get("".concat(r.b,"/admin-workshops"),{headers:{Authorization:"Bearer ".concat(null==c?void 0:c.token)}});i(e.allworkshops),t(!1)}catch(e){t(!1),console.log(e)}};(0,l.useEffect)(()=>{c&&c.token&&d()},[c&&c.token]);let m=async e=>{try{var t;if(null===(t=window)||void 0===t?void 0:t.confirm("Are you sure?")){let{data:t}=await n.Z.delete("".concat(r.b,"/delete/workshop/").concat(e),{headers:{Authorization:"Bearer ".concat(null==c?void 0:c.token)}});d()}}catch(e){console.log(e)}},u=async e=>{try{t(!0);let{data:o}=await n.Z.put("".concat(r.b,"/workshop/show-or-not/").concat(e),{showOrNot:!1},{headers:{Authorization:"Bearer ".concat(null==c?void 0:c.token)}});o.ok&&(t(!1),s.ZP.success("Workshop has been disable"),d())}catch(e){console.log(e),t(!1),s.ZP.error("Try again")}},p=async e=>{try{t(!0);let{data:o}=await n.Z.put("".concat(r.b,"/workshop/show-or-not/").concat(e),{showOrNot:!0},{headers:{Authorization:"Bearer ".concat(null==c?void 0:c.token)}});o.ok&&(t(!1),s.ZP.success("Workshop has been disable"),d())}catch(e){console.log(e),t(!1),s.ZP.error("Try again")}};return{list:o,loading:e,deleteWorkshop:m,disableWorkshop:u,enableWorkshop:p}}},51447:function(e,t,o){"use strict";var r=o(85893);o(67294);var a=o(24806);t.Z=e=>{let{children:t}=e;return(0,r.jsx)(a.Z,{api:"/current-cms-user",children:t})}},69584:function(e,t,o){"use strict";var r=o(85893),a=o(6339),n=o(54715),l=o(15120),s=o(89701),i=o(65400),c=o.n(i),d=o(64749);o(30381);var m=o(5152),u=o.n(m),p=o(67294);o(58514);var h=o(81072);o(54974),o(89242),o(22385),t.Z=e=>{var t,i,m,g,x,f,v;let{_values:j,_setValues:y,handleChange:b,cats:w,setCats:I,from:k,loading:C,handleSubmit:N,workshopId:T}=e,Z=(0,p.useMemo)(()=>u()(()=>Promise.all([o.e(2937),o.e(8446),o.e(1167)]).then(o.t.bind(o,71167,23)),{loadableGenerated:{webpack:()=>[71167]},ssr:!1}),[]),{categoriesList:F}=(0,a.b)(),{instLoading:P,teachers:A}=(0,n.J)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:" Breadcrumb Title"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",name:"breadTitle",placeholder:"Breadcrumb Title",value:j.breadTitle,onChange:b})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:" Workshop Title"}),(0,r.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",name:"title",placeholder:"Workshop Title",value:j.title,onChange:b})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:" Workshop Image"}),(0,r.jsx)("input",{onChange:b,type:"file",accept:"images/*",className:"form-control",id:"exampleFormControlInput1"})]}),(0,r.jsx)("small",{className:"form-text",children:"Please upload image within 1mb, formet jpg,jpeg,webp"}),"workshop-create"===k&&j.image&&(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("img",{width:"auto",height:300,src:URL.createObjectURL(j.image),onClick:()=>y(e=>({...e,image:""}))}),(0,r.jsx)("br",{}),(0,r.jsx)("small",{children:"Just click on image to remove."})]}),"workshop-edit"===k&&j.preImage&&(0,r.jsxs)("div",{className:"form-group py-2",children:[(null===(t=j.preImage)||void 0===t?void 0:t.url.includes("uploads"))?(null===(i=j.preImage)||void 0===i?void 0:i.url)&&(0,r.jsx)("img",{width:"auto",height:300,src:(0,s.v)(null===(m=j.preImage)||void 0===m?void 0:m.url),onClick:()=>y(e=>({...e,preImage:""}))}):(0,r.jsx)("img",{width:"auto",height:300,src:null===(g=j.preImage)||void 0===g?void 0:g.url,onClick:()=>y(e=>({...e,preImage:""}))}),(0,r.jsx)("br",{}),(0,r.jsx)("small",{children:"Just click on image to remove."})]}),"workshop-edit"===k&&(0,r.jsxs)(r.Fragment,{children:[(null==j?void 0:j.image)&&(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("img",{width:"auto",height:300,src:null===(x=window)||void 0===x?void 0:x.URL.createObjectURL(null==j?void 0:j.image),onClick:()=>y(e=>({...e,image:""}))}),(0,r.jsx)("br",{}),(0,r.jsx)("small",{children:"Just click on image to remove."})]}),(null===(f=j.preImage)||void 0===f?void 0:f.url)&&(0,r.jsx)(r.Fragment,{children:JSON.stringify((0,s.v)(null===(v=j.preImage)||void 0===v?void 0:v.url))})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Overview"}),(0,r.jsx)(Z,{placeholder:"Overview",value:j.content,onChange:e=>y(t=>({...t,content:e}))})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Outlines"}),(0,r.jsx)(Z,{placeholder:"Outlines",value:j.outlines,onChange:e=>y(t=>({...t,outlines:e}))})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Conclusion"}),(0,r.jsx)("textarea",{className:"form-control",type:"text",id:"exampleFormControlInput1",name:"conclusion",value:j.conclusion,onChange:b})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Date and Time"}),(0,r.jsx)(h.Z,{type:"date",className:"form-control",name:"dateAndTime",value:null==j?void 0:j.dateAndTime,onChange:e=>{y(t=>({...t,dateAndTime:e}))}})]}),P&&"loading...",(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Select Instructor"}),(0,r.jsxs)("select",{value:j.instructor,onChange:b,className:"form-control",name:"instructor",children:[(0,r.jsx)("option",{children:"* Select Instructor"}),null==A?void 0:A.map((e,t)=>(0,r.jsx)("option",{value:e._id,children:e.name},t))]})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Popular Tags"}),(0,r.jsx)("input",{type:"text",className:"form-control",placeholder:"Tags",name:"tags",value:j.tags,onChange:b}),(0,r.jsx)("small",{className:"form-text",children:"Please use comma separated values (eg. #TREND,#DESIGNING,#JAVASCRIPT,#EARNING,#EDUCATION)"})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Zoom Link"}),(0,r.jsx)("input",{className:"form-control",type:"text",id:"exampleFormControlInput1",name:"zoomLink",value:j.zoomLink,onChange:b})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Meeting Id"}),(0,r.jsx)("input",{className:"form-control",type:"text",id:"exampleFormControlInput1",name:"meetingId",value:j.meetingId,onChange:b})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Passcode Id"}),(0,r.jsx)("input",{className:"form-control",type:"text",id:"exampleFormControlInput1",name:"pascodeId",value:j.pascodeId,onChange:b})]})})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Meeting Timing And Date"}),(0,r.jsx)("input",{className:"form-control",type:"text",id:"exampleFormControlInput1",placeholder:"May 22nd, 2023 | 7:00 PM",name:"meetingTiming",value:j.meetingTiming,onChange:b})]}),(0,r.jsxs)("div",{className:"form-group py-2",children:[(null==w?void 0:w.length)===0||1===w.length&&(0,r.jsx)(l.Z,{}),(0,r.jsx)("label",{for:"exampleFormControlInput1",children:"Categories"}),(0,r.jsx)(d.default,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",onChange:e=>I(e),children:F.map(e=>(0,r.jsx)(d.default.Option,{children:e.name},e.name))})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(c(),{loading:C,onClick:()=>{"workshop-edit"===k?N("edit-workshop/".concat(T),{...j,categories:w}):"workshop-create"===k&&N("create-workshop",{...j,categories:w})},children:"Submit"})]})}},15120:function(e,t,o){"use strict";var r=o(85893);o(67294),t.Z=()=>(0,r.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Please select mulitple categories. Sorry for inconvenience."})},46148:function(e,t,o){"use strict";var r=o(85893),a=o(16371);o(67294),t.Z=e=>{let{title:t,para:o,Icon:n}=e;return(0,r.jsxs)("div",{className:"text-start mb-5",children:[(0,r.jsxs)("h4",{className:"d-flex justify-content-start align-items-start gap-2",style:{color:a.W.primaryColor},children:[n," ",t]}),(0,r.jsx)("small",{children:o})]})}},85181:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return h}});var r=o(85893),a=o(51447),n=o(67294),l=o(69584),s=o(32512),i=o(86501);let c={title:"",breadTitle:"",content:"",outlines:"",image:"",conclusion:"",dateAndTime:new Date,instructor:"",zoomLink:"",meetingId:"",pascodeId:"",meetingTiming:"",tags:""};var d=()=>{let[e,t]=(0,n.useState)(c),{createSubmit:o,loading:a}=(0,s.K)(),[d,m]=(0,n.useState)([]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{handleSubmit:o,loading:a,from:"workshop-create",handleChange:e=>{if(e.target.files){let o=e.target.files[0];if(o.size>1048576){i.ZP.error("Image size must be less than 1MB");return}t(t=>({...t,image:e.target.files[0]}))}else{let{name:o,value:r}=e.target;t(e=>({...e,[o]:r}))}},_values:e,_setValues:t,cats:d,setCats:m})})},m=o(46148),u=o(70302),p=o(5434),h=()=>(0,r.jsx)(a.Z,{children:(0,r.jsxs)(u.default,{children:[(0,r.jsx)(m.Z,{Icon:(0,r.jsx)(p.Gpi,{}),title:"Add Workshop",para:"Note** please upload images just in webp formats"}),(0,r.jsx)(d,{})]})})}},function(e){e.O(0,[5445,1228,4885,2160,2121,1664,8695,9169,2735,9523,1825,4055,4737,4960,302,8890,2891,674,9238,8905,4749,2405,2953,4806,9774,2888,179],function(){return e(e.s=90993)}),_N_E=e.O()}]);