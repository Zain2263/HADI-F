(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{52738:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(96926)}])},89701:function(e,t,s){"use strict";s.d(t,{b:function(){return n},v:function(){return l}});let r="https://api.hadielearning.com",n="".concat(r,"/api"),l=e=>"".concat(r,"/").concat(e.replace(/\\/g,"/"))},96926:function(e,t,s){"use strict";s.r(t);var r=s(85893),n=s(5121),l=s(11163),a=s(67294),c=s(86501),o=s(8193),i=s(41664),u=s.n(i),d=s(73361),m=s(89701),h=s(31955);t.default=()=>{let[e,t]=(0,d.a)(),s=null==e?void 0:e.token,i=(0,l.useRouter)(),[g,x]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[j,v]=(0,a.useState)(""),[b,N]=(0,a.useState)(""),y={email:j,password:b},w=async()=>{try{x(!0);let{data:e}=await n.Z.post("".concat(m.b,"/login"),y);console.log(e),e.error?(c.Am.error(e.error),x(!1)):(t({user:e.user,token:e.token}),h.Z.set("auth",JSON.stringify(e)),c.Am.success("Successfully logged in"),x(!1),i.push("/"))}catch(e){c.Am.error("SignIn failed. Try again."),console.log(e),x(!1)}};return(0,a.useEffect)(()=>{e&&s&&i.push("/")},[e,s,i]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"enrollScreen",className:"container-fluid ",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-4 col-md-4 bg-danger",id:"forImage"}),(0,r.jsx)("div",{className:"col-lg-8 col-md-8 col-sm-12 col-xs-12",id:"rightCol",children:(0,r.jsx)("div",{className:"form ",children:(0,r.jsx)("div",{className:"row d-flex justify-content-center align-items-center",style:{height:"90vh"},children:(0,r.jsxs)("div",{className:"col-md-8  col-sm-12 ",id:"startForm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"col-md-8  col-sm-12 mb-4  ",children:(0,r.jsx)(u(),{href:"/",children:(0,r.jsxs)("span",{className:"d-flex align-items-center gap-2",role:"button",children:[(0,r.jsx)(o.YwC,{}),(0,r.jsx)("span",{children:"Home"})]})})}),(0,r.jsx)("h2",{children:" Login "}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"form-group py-3",children:[(0,r.jsxs)("label",{children:["Email",(0,r.jsx)("span",{className:"text-danger",children:"*"}),f&&(0,r.jsx)("small",{className:"text-danger mx-3",children:"Invalid Email"})]}),(0,r.jsx)("input",{required:!0,type:"email",className:"form-control",placeholder:"example@gmail.com",name:"email",value:j,onChange:e=>{var t;(t=e.target.value,/\S+@\S+\.\S+/.test(t))?p(!1):p(!0),v(e.target.value)}})]}),(0,r.jsxs)("div",{className:"form-group py-3",children:[(0,r.jsxs)("label",{children:["Password",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)("input",{required:!0,type:"password",className:"form-control",name:"password",value:b,onChange:e=>N(e.target.value)})]}),(0,r.jsx)("br",{})]}),b&&j?(0,r.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:"z-btn mx-2 ",onClick:w,children:g?"loading...":"Login"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{role:"button",className:"m-2",onClick:()=>i.push("/auth/request-forget-password"),children:"Forgotten password?"})]}),(0,r.jsx)("button",{className:"z-btn-register",onClick:()=>i.push("/auth/register"),children:"Register"})]}):(0,r.jsxs)("div",{className:"col-12 d-flex justify-content-between align-items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:"z-btn-disable",children:"Login"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{role:"button",className:"m-2",onClick:()=>i.push("/auth/request-forget-password"),children:"Forgotten password?"})]}),(0,r.jsx)("button",{className:"z-btn-register",onClick:()=>i.push("/auth/register"),children:"Register"})]})]})})})})]})})})}},88357:function(e,t,s){"use strict";s.d(t,{w_:function(){return o}});var r=s(67294),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=r.createContext&&r.createContext(n),a=function(){return(a=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},c=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};function o(e){return function(t){return r.createElement(i,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return r.createElement(t.tag,a({key:s},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var s,n=e.attr,l=e.size,o=e.title,i=c(e,["attr","size","title"]),u=l||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:s,style:a(a({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==l?r.createElement(l.Consumer,null,function(e){return t(e)}):t(n)}}},function(e){e.O(0,[4617,1664,9774,2888,179],function(){return e(e.s=52738)}),_N_E=e.O()}]);